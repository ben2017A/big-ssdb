# Raft 组管理

## 1. 以空配置启动组

此种方法先启动一个空的组, 再依次修改 Raft 配置将各节点加入到组当中.

### 启动节点, 组建单节点集群

* 以 members=[A] 启动 A
* A 自动成为 leader
* A 被自动添加到持久化的集群成员列表

### 配置集群, 接受新节点

* 请求 A, A.AddMember(B)
* 现在持久化的成员列表是 [A, B]

### 新节点启动

* 以 members=[A] 启动 B
* 因为 B 的日志为空, 所以无法 B 成为 leader
* B 从 A 同步 raft 日志


## 2. 以共同配置启动组的所有节点

此方法让组的所有节点以完全相同的配置启动, 这样它们的配置是一致的. 启动后, leader 会将初始的配置写入 Raft 日志.

### 所有节点以相同的配置启动

* 以 members=[A, B] 启动 A, B
* 两者会自动竞争 leader
