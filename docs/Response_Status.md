# 状态码/错误码

## 服务器端返回的状态码

服务器端返回的状态, 会明确地告知客户端请求的处理结果, 处理的结果是 3 种状态之一:

* 处理中: 504
* 成功: 200
* 失败: 其它

### 200 - OK

请求成功被处理完毕.

### 302 - Move Temporarily

重定向.

### 400 - Bad Request

客户端的问题.

### 500 - Error/Internal Server Error

服务端的问题导致请求处理失败, 客户端可以立即重试, 也可以放弃.

### 503 - Service Unavailable

当前服务不可用, 客户端应该过一段时间再使用.

### 504 - Service Timeout

请求已经被处理, 但还未处理完毕. 客户端不能重试, 因为请求最终会被处理完毕. 如果重试, 会导致同一个请求被处理多次, 有幂等性问题.


## 客户端判定的错误码

### Client Error

这是客户端自己的异常, 该错误可以保证服务器端未接受请求, 所以之前的请求绝对不会被处理. 例如, 报文还未完全发送, 就遇到网络异常, 这样就可以确认服务器端没有收到完整的请求, 也就不会被处理.

* Connect Timeout
	* 换一台 server retry
* Send Timeout
	* 换一台 server retry
* Receive Timeout
	* 不能 retry, 因为有幂等性问题
* Exception

### Unknown Result

客户端无法知道结果, 之前的请求的处理结果是不可预期的. 一般超过一定时间没有收到服务器端的响应, 但又无法确定服务器端是否已经接受了请求. 对于此类错误, 客户端既不能重试, 也不能放弃, 需要通过业务相关的手段判断之前的请求的处理结果.

* Receive Timeout
